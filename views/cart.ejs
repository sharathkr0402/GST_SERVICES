<style>
  body {
    font-family: Arial, sans-serif;
  }

  #cartdiv {
    margin: 20px auto;
    padding: 20px;
    text-align: center;
    width: 90%;
    max-width: 900px;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
  }

  #couponprice {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 0;
  }

  #coupon,
  #pricediv {
    width: 100%;
    max-width: 400px;
    background-color: rgb(198, 225, 249);
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
  }

  #coupon p,
  #pricediv p {
    text-align: left;
    margin-left: 10px;
  }

  #coupon1 {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #coupon1 button {
    margin-top: 10px;
    width: 100%;
  }

  #coupon1 input {
    margin-top: 10px;
    width: 100%;
  }

  table {
    width: 100%;
    margin-bottom: 20px;
  }

  @media (min-width: 768px) {
    #couponprice {
      flex-direction: row;
      justify-content: space-between;
      align-items: flex-start;
    }

    #coupon1 {
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }

    #coupon1 button,
    #coupon1 input {
      margin: 0 10px;
      width: auto;
    }
  }
</style>

<% layout('layouts/boilerplate')%> <%let discount=0; let
subtotal=price-discount; let gst=Math.floor(subtotal*0.18); let
total=Math.floor(subtotal+gst) %>

<div id="cartdiv">
  <h3>Shopping cart</h3>
  <table id="carttb" class="table table-bordered border-primary">
    <thead class="table-primary">
      <tr>
        <th scope="col">PRODUCT</th>
        <th scope="col">QUANTITY</th>
        <th scope="col">PRICE</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><%=name%></td>
        <td><b>1</b></td>
        <td>&#8377;<%=price%></td>
      </tr>
    </tbody>
  </table>
  <div id="couponprice">
    <div id="coupon">
      <p>Have coupon?</p>
      <div id="coupon1">
        <input type="text" class="form-control" id="coupontext" />
        <button type="button" class="btn btn-primary" id="couponbtn">
          Apply
        </button>
      </div>
    </div>

    <div id="pricediv">
      <p><b>PRICE DETAIL</b></p>
      <table class="table">
        <tbody>
          <tr>
            <td>Item Price:</td>
            <td>&#8377;<%=price%></td>
          </tr>
          <tr>
            <td>Discount:</td>
            <td>&#8377;<%=discount%></td>
          </tr>
          <tr>
            <td>Subtotal:</td>
            <td>&#8377;<%=subtotal%></td>
          </tr>
          <tr>
            <td>GST:</td>
            <td>&#8377;<%=gst%></td>
          </tr>
          <tr>
            <td>Total:</td>
            <td>&#8377;<%=total%></td>
          </tr>
        </tbody>
      </table>
      <form action="/payment/<%=total%>" method="post">
        <button type="submit" class="btn btn-success" id="rzp-button">
          Confirm Payment
        </button>
      </form>
      <div id="payment-message"></div>
    </div>
  </div>
</div>
